"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MongoEntityRepository = void 0;
const core_1 = require("@mikro-orm/core");
class MongoEntityRepository extends core_1.EntityRepository {
    constructor(_em, entityName) {
        super(_em, entityName);
        this._em = _em;
        this.entityName = entityName;
    }
    /**
     * Shortcut to driver's aggregate method. Available in MongoDriver only.
     */
    async aggregate(pipeline) {
        return this.getEntityManager().aggregate(this.entityName, pipeline);
    }
    getCollection() {
        return this.getEntityManager().getCollection(this.entityName);
    }
    /**
     * @inheritDoc
     */
    getEntityManager() {
        return this._em;
    }
    /**
     * @inheritDoc
     */
    get em() {
        return this._em;
    }
}
exports.MongoEntityRepository = MongoEntityRepository;
